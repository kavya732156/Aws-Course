***Bucket Policies***<br>
Bucket policies are resource-based JSON policies attached to an S3 bucket to control access to the bucket and its objects, 
commonly used for cross-account access and public access use cases.
1.  Is a policy which we can apply on the S3 buckets.
2.  is also written in the JSON format.
3.  We can use policy Generator to create the required bucket policy.
4.  Bucket policy allows the users to access the objects from the S3 bucket based on the permissions which we included in the bucket policy.<br>

***Note: Bucket policies don't apply to objects owned by other accounts.***

***Task***<br>

***(a) Create S3 Bucket in N. Virginia (Public by Policy)***
```
Bucket name: bucketpolicy-13-feb-2026
Region: N. Virginia (us-east-1)
While creating bucket:
Block all public access → Disable and ACLs → Disabled (recommended)
Create bucket
Since ACLs are disabled, we’ll use only Bucket Policy to make content public.
```
<img width="1233" height="603" alt="image" src="https://github.com/user-attachments/assets/d69a3990-a0f6-4c9c-8843-6bd9c9ce9d05" />

***b) Create Bucket Policy (Using Policy Generator)***
```
Go to: IAM → Policy Generator
Fill details: Policy Type: S3 Bucket Policy Effect: Allow, Principal: *
Actions: GetObject and ListBucket (optional – allows listing)
ARN: arn:aws:s3:::bucketpolicy-13-feb-2026
arn:aws:s3:::bucketpolicy-13-feb-2026/*
Click Add Statement → Generate Policy
Copy the JSON.
```
***c) Apply the Policy on the S3 Bucket***<br>

Go to: S3 → Your bucket → Permissions → Bucket policy → Edit → Paste → Save ***
```
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "Statement1",
      "Effect": "Allow",
      "Principal": "*",
      "Action": [
        "s3:GetObject",
        "s3:ListBucket"
      ],
      "Resource": [
        "arn:aws:s3:::bucketpolicy-13-feb-2026",
        "arn:aws:s3:::bucketpolicy-13-feb-2026/*"
      ]
    }
  ]
}
```
***d) Verification***
```
Upload any file (e.g., index.html)
Copy Object URL
Open in Incognito/New tab
If it opens without login → Public access working
```
<img width="1919" height="607" alt="image" src="https://github.com/user-attachments/assets/e2ef589b-938a-49c2-8e7f-5f12b2e9355f" />

***When to Use Bucket Policy vs IAM Policy***
```
| Use Case                                      | Best Choice    |
| --------------------------------------------- | ---------------|
| Grant another AWS account access to a bucket  |  Bucket Policy |
| Make objects public (static website)          |  Bucket Policy |
| Give permissions to many buckets for one user |  IAM Policy    |
| User-specific permissions                     |  IAM Policy    |
```
***S3 Server Access Logging***<br>
```
Records every request made to your S3 bucket
Logs include: requester, bucket name, object key, time, IP, action, response code
Logs are delivered to another S3 bucket (target bucket)
Helps with security audits, access analysis, compliance
Logs are best-effort (delivery can be delayed)
You pay for log storage + PUT requests
Target bucket must allow S3 to write logs (policy required
```
***How to Enable (Console)***
```
Go to S3 → Source bucket → Properties
Scroll to Server access logging
Click Edit → Enable and Choose Target bucket (must be different from source)
(Optional) Set log prefix (e.g., logs/)
Save changes
```
<img width="1915" height="720" alt="image" src="https://github.com/user-attachments/assets/265efe67-311a-4c5d-b764-4e19661572b4" />

***Server Access Logging vs CloudTrail (Quick Compare)***
```
| Feature      | S3 Server Access Logging | CloudTrail                           |
| ------------ | ------------------------ | ------------------------------------ |
| What it logs | Object-level requests    | API calls (management + data events) |
| Delivery     | To S3 bucket             | To S3/CloudWatch Logs                |
| Latency      | Delayed (best-effort)    | Near real-time                       |
| Use case     | Detailed access logs     | Auditing, security monitoring        |
```
