***Versioning:***<br>
S3 Versioning keeps multiple versions of the same object in a bucket.<br>
Every time you upload a file with the same name, S3 stores it as a new version instead of overwriting the old one.<br>
Think of it like file history / undo for S3.<br>
```
Keeps multiple versions of the same object
Prevents accidental overwrite & delete
Delete adds a “delete marker” (old versions still exist)
Old versions can be restored anytime
MFA Delete can protect version deletions
Once enabled, can’t be disabled (only suspended)
Applies only to new objects (old ones stay unversioned)
Costs increase (each version is billed)
Use Lifecycle rules to clean up old versions
Works with replication (CRR/SRR replicates versions)
```
***Steps***<br>
***1) Create S3 Bucket (Mumbai – ap-south-1)***
```
S3 → Create bucket
Bucket name: versioning12feb2026
Region: Asia Pacific (Mumbai) – ap-south-1
Object Ownership: ACLs enabled
Block Public Access: Uncheck Block all public access
✔ Acknowledge warning
Create bucket
```
<img width="1260" height="558" alt="image" src="https://github.com/user-attachments/assets/28dd3322-8a16-47bb-9fa2-88cfd8749464" />

***2) Enable Versioning***
```
Open bucket → Properties → Bucket Versioning → Enable
Note: Once enabled, you can only Suspend, not disable.
```
***3) Upload versioning.txt (Public) – “Hello All”***
```
Upload → set:
Storage class: Standard
Permissions: Public read (ACL – Everyone)
```
<img width="1914" height="741" alt="image" src="https://github.com/user-attachments/assets/62d1c82b-bf22-4069-8d86-e6dc09c03546" />

***4) Modify & Upload Again – “Hi Everyone”***<br>
Edit file: Upload same filename again as Public
```
Result: 
| Version  | Content     |
| -------- | ----------- |
| Latest   | Hi Everyone |
| Previous | Hello All   |
```
<img width="1424" height="408" alt="image" src="https://github.com/user-attachments/assets/032018ef-54ea-4a61-b9f6-2f056691808e" />

***5) Access Object URL***
```
You should see: Hi Everyone (latest version)
```
<img width="1016" height="242" alt="image" src="https://github.com/user-attachments/assets/a986bc7c-deae-4c53-a4e2-f23b5f30f858" />

***6) Modify & Upload Again – “Hello12345”***<br>
Edit file: Hello 12345 and Upload again as public
```
Result
| Version Order | Content       |
| ------------- | ------------- |
| Current       | Hello12345 |
| Previous      | Hi Everyone   |
| Previous      | Hello All     |
```
<img width="1632" height="739" alt="image" src="https://github.com/user-attachments/assets/5ec245bf-5de4-45fd-892f-40832418b857" />

***7) Delete Latest Version (Not Delete Marker)***
```
Open object → Show versions
Do NOT click normal Delete and  Delete only the latest Version ID
After deleting latest version:
Hi Everyone  --> becomes current
Hello All   --> previous

Normal delete creates a Delete Marker
Deleting a specific version ID removes that version permanently
```

***10) Suspend Versioning***
```
Bucket → Properties → Versioning → Suspend
Now new uploads will have Version ID = null
```
***11) Upload Again After Suspend***
```
When versioning is suspended:
New uploads get null version
Old versions still remain
Result: 
| Version       | Content     |
| ------------- | ----------- |
| null (latest) | kjadfkahduf |
| Older         | Hi Everyone |
| Older         | Hello All   |
```
<img width="1445" height="664" alt="image" src="https://github.com/user-attachments/assets/44cdf329-1c92-4b7c-9862-93ced66cc4ed" />

***12) Delete Object After Suspend
```
Delete versioning.txt normally
Result:
Deletes null version only and Old versions still exist
Object appears deleted unless you restore previous versions
```
<img width="1892" height="744" alt="image" src="https://github.com/user-attachments/assets/9f3bb435-b8f0-44a1-82e1-31a17ae09ebc" />

***Final Key Concepts***
```
. Versioning protects against accidental delete/overwrite
. Delete creates Delete Marker
. Specific versions can be permanently deleted
. Versioning can be enabled once, only suspended later
. Old versions still incur cost
. Public access must be re-applied per version if using ACLs
```
